import{r,u as g,j as o,s as c}from"./app-DybRAuLq.js";import{u as _}from"./grade-thunk-CUVAzDg7.js";import{a as E}from"./subject-thunk-Dq1Q1Opu.js";import{T as j}from"./TextField-DRhFz_6J.js";import"./DefaultPropsProvider-DCJb6E5E.js";import"./useSlot-TVDLOoa-.js";import"./resolveComponentProps-DUtT_dfg.js";import"./TransitionGroupContext-iaf0EhNx.js";import"./Select-BscghkMK.js";import"./InputBase-CYgEkRPn.js";import"./isHostComponent-DVu5iVWx.js";import"./index-D69jytwz.js";import"./useTheme-D5lIhkN2.js";import"./extendSxProp-CuDNPLBH.js";import"./ownerWindow-CO8Ksk3k.js";import"./debounce-Be36O1Ab.js";import"./Popover-BBiiqE_v.js";import"./Modal-Z0on7eKw.js";import"./utils-DP35-Ml8.js";import"./Paper-BmjDVk1M.js";import"./Grow-CBvdg8uk.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./react-is.production.min-DUDD-a5e.js";import"./index-D7ZnD-LZ.js";import"./useSlotProps-D41xggbf.js";import"./useControlled-Bn3V98Ts.js";import"./useId-DMHjp0Xr.js";import"./createSvgIcon-C9-vU3kT.js";function Y({data:n,value:f,type:s}){const[t,p]=r.useState({}),[i,b]=r.useState({}),{user:l}=g(e=>e.app),[a,m]=r.useState(!1),[u,d]=r.useState(!1),h=window.location.pathname.split("/")[3];r.useEffect(()=>{p({...n,[s]:f??0})},[]);async function x(e){if(e.key==="Enter"){m(!0);try{await c.dispatch(_({prelim:t.prelim,midterm:t.midterm,final:t.final,id:n.id})),await c.dispatch(E(l.user_type=="1"?h:l.user_id)),d(!1),m(!1)}catch{m(!1)}}}return console.log("formform",t),o.jsxs("div",{children:[a&&o.jsx(o.Fragment,{children:"Loading..."}),!a&&!u&&o.jsx("a",{className:"flex w-full",onClick:()=>d(!0),children:t[s]}),!a&&u&&o.jsx(j,{size:"small",onKeyDown:x,value:t[s],onChange:e=>p({...t,[e.target.name]:e.target.value}),error:!!(i!=null&&i.prelim),helperText:(i==null?void 0:i.prelim)??"",name:s,type:"number",id:"outlined-basic",label:"Prelim",variant:"outlined"})]})}export{Y as default};
