import{u as g,r as m,y as I,j as r}from"./app-CVDMcg98.js";import T from"./update-section-JEmHlQG8.js";import w from"./delete-section-GLcW_xQP.js";import{a as W}from"./academic-year-Baah32c-.js";import{T as R,a as A,b as E,c as v,d as t,e as F}from"./TableRow-CTcrg_xd.js";import{P as L}from"./Paper-CWiuNss2.js";import{F as h,I as x,S as j}from"./Select-geFO-Apf.js";import{M as l}from"./MenuItem-DI3uEZii.js";import"./subject-thunk-acxIZqA_.js";import"./Snackbar-BhWLvLhM.js";import"./DefaultPropsProvider-D_K24vV4.js";import"./useSlot-2WABMnLh.js";import"./resolveComponentProps-Dq4fxsaZ.js";import"./TransitionGroupContext-CkTDvrnb.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./createSvgIcon-D2ziPLfO.js";import"./IconButton-Ck2rz2UQ.js";import"./ButtonBase-BPbBVMxa.js";import"./useTheme-DkfhbSbA.js";import"./useSlotProps-BrMs0Cgk.js";import"./Modal-4dvS3ojR.js";import"./ownerWindow-CO8Ksk3k.js";import"./utils-B38nf5QX.js";import"./Grow-CsVbfywZ.js";import"./Button-BNdpkQoA.js";import"./Edit-Bnzt0sOv.js";import"./Drawer-Bnh9Vahn.js";import"./index-DafshFsc.js";import"./Slide-CNDsNbvN.js";import"./debounce-Be36O1Ab.js";import"./Box-BfWO6Npv.js";import"./extendSxProp-k1b5_2p5.js";import"./TextField-RZwbUuKr.js";import"./useId-Czz_P87K.js";import"./InputBase-D5Ykjt5k.js";import"./isHostComponent-DVu5iVWx.js";import"./index-DkpD1oUL.js";import"./CircularProgress-B-ICX-qF.js";import"./Delete-BfmA30iR.js";import"./Typography-Ca1mrKRv.js";import"./Popover-DkgfN67F.js";import"./react-is.production.min-DUDD-a5e.js";import"./useControlled-B60mYxEG.js";import"./listItemTextClasses-Cx2fBUrX.js";function Ce(){var S,y;const{subjects:d}=g(e=>e.subjects),{courses:n}=g(e=>e.courses),b=window.location.search,a=m.useMemo(()=>new URLSearchParams(b),[b]),[s,f]=m.useState({course_id:a.get("course_id")??"",semester:a.get("semester")??"",academic_year:a.get("academic_year")??""});m.useEffect(()=>{f({course_id:a.get("course_id")??"",semester:a.get("semester")??"",academic_year:a.get("academic_year")??""})},[a]);const p=m.useCallback((e,i)=>{const c={...s,[e]:i},o=Object.entries(c).filter(([_,u])=>u!=="").map(([_,u])=>`${_}=${encodeURIComponent(u)}`).join("&");f(c),I.visit(`?${o}`)},[s]);function C(e){return e.trim().split(" ").pop()}return r.jsx(R,{component:L,children:r.jsxs(A,{sx:{minWidth:650},"aria-label":"simple table",children:[r.jsx(E,{children:r.jsxs(v,{children:[r.jsx(t,{children:"Name of Course"}),r.jsx(t,{children:"Instructor"}),r.jsx(t,{children:"Subject Code"}),r.jsx(t,{children:r.jsxs(h,{fullWidth:!0,children:[r.jsx(x,{id:"course-select-label",children:"Course"}),r.jsx(j,{labelId:"course-select-label",id:"course-select",name:"course_id",label:"Course",value:s.course_id,onChange:e=>p("course_id",e.target.value),children:(S=n==null?void 0:n.data)==null?void 0:S.map(e=>r.jsx(l,{value:e.id,children:C(e.name)},e.id))})]})}),r.jsx(t,{children:r.jsxs(h,{fullWidth:!0,children:[r.jsx(x,{id:"semester-select-label",children:"Semester"}),r.jsxs(j,{label:"Semester",labelId:"semester-select-label",id:"semester-select",name:"semester",value:s.semester??"",onChange:e=>p("semester",e.target.value),children:[r.jsx(l,{value:"1st Semester",children:"1st Semester"}),r.jsx(l,{value:"2nd Semester",children:"2nd Semester"}),r.jsx(l,{value:"Summer",children:"Summer"})]})]})}),r.jsx(t,{children:r.jsxs(h,{fullWidth:!0,children:[r.jsx(x,{id:"academic-year-select-label",children:"Academic Year"}),r.jsx(j,{labelId:"academic-year-select-label",id:"academic-year-select",name:"academic_year",label:"Academic Year",value:s.academic_year,onChange:e=>p("academic_year",e.target.value),children:W().map((e,i)=>r.jsx(l,{value:e,children:e},i))})]})}),r.jsx(t,{children:"Action"})]})}),r.jsx(F,{children:(y=d==null?void 0:d.data)==null?void 0:y.map(e=>{var i,c,o;return r.jsxs(v,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[r.jsx(t,{component:"th",scope:"row",children:e.name}),r.jsxs(t,{children:[(i=e==null?void 0:e.user)==null?void 0:i.fname," ",(c=e==null?void 0:e.user)==null?void 0:c.lname]}),r.jsx(t,{children:e.code}),r.jsx(t,{children:((o=e==null?void 0:e.course)==null?void 0:o.name)??""}),r.jsx(t,{children:e.semester}),r.jsx(t,{children:e.academic_year}),r.jsx(t,{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(T,{data:e}),r.jsx(w,{data:e})]})})]},e.id)})})]})})}export{Ce as default};
