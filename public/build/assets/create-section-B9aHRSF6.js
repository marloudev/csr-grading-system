import{r as n,c as k,u,j as t,s as v}from"./app-1UmjifxC.js";import{s as I,g as N}from"./subject-thunk-DFz9bSoJ.js";import{a as D}from"./academic-year-Dwf-tb8G.js";import{S as W,A}from"./Snackbar-Bp6NNB6d.js";import{B as S}from"./Button-CMdX8eHe.js";import{D as B}from"./Drawer-BpR4V6qn.js";import{B as F}from"./Box-CxqSUcQS.js";import{T as C}from"./TextField-CtZ3mjoH.js";import{F as o,I as c,S as m}from"./Select-BivqU_Cl.js";import{M as a}from"./MenuItem-pEYWaD7O.js";import{C as T}from"./CircularProgress-BDbQz30S.js";import"./DefaultPropsProvider-CKcDU2Yy.js";import"./useSlot-Gx91KLIi.js";import"./resolveComponentProps-B7IHF3QZ.js";import"./TransitionGroupContext-RNXDwHJk.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./createSvgIcon-DDstmIAC.js";import"./Paper-BF9VFg0b.js";import"./useTheme-CkPtyFRl.js";import"./IconButton-B8cC9VgP.js";import"./ButtonBase-DHFJnA4X.js";import"./useSlotProps-CRvtfQO_.js";import"./Modal-BXjSSrnw.js";import"./ownerWindow-CO8Ksk3k.js";import"./utils-BgXcxbpz.js";import"./Grow-B7cp0PNe.js";import"./index-Cdcpbbf2.js";import"./Slide-Cq4x48NM.js";import"./debounce-Be36O1Ab.js";import"./extendSxProp-C4KD2rbZ.js";import"./useId-D5gQBNP_.js";import"./InputBase-cG_P5-sx.js";import"./isHostComponent-DVu5iVWx.js";import"./index-9lKmE9fi.js";import"./Popover-BTy4bb5Y.js";import"./react-is.production.min-DUDD-a5e.js";import"./useControlled-Cmh3m7cd.js";import"./listItemTextClasses-Cb56dKPk.js";function ve(){const[y,p]=n.useState(!1),[h,d]=n.useState(!1),[s,i]=n.useState({semester:"1st Semester",academic_year:k()}),[r,x]=n.useState({}),[_,f]=n.useState(!1);u(e=>e.sections);const{instructors:j}=u(e=>e.instructors),{courses:Y}=u(e=>e.courses),b=e=>()=>{p(e)};async function w(e){d(!0);const l=await v.dispatch(I(s));l.status==200?(await v.dispatch(N()),f(!0),x({}),d(!1)):(d(!1),x(l.response.data.errors))}const g=(e,l)=>{l!=="clickaway"&&(f(!1),p(!1))};return console.log("instructors",j),t.jsxs("div",{children:[t.jsx(W,{open:_,anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:3e3,onClose:g,children:t.jsx(A,{onClose:g,severity:"success",variant:"filled",sx:{width:"100%"},children:"Successfully Created!"})}),t.jsx(S,{variant:"contained",onClick:b(!0),children:"Create Subject"}),t.jsx(B,{anchor:"right",open:y,onClose:b(!1),children:t.jsx(F,{className:"w-[500px] h-full flex",role:"presentation",children:t.jsxs("div",{className:"pt-20 px-3 w-full flex flex-col items-center justify-between pb-5",children:[t.jsxs("div",{className:"flex flex-col gap-3  w-full",children:[t.jsx("div",{className:"text-2xl font-black",children:"Create subject"}),t.jsx(C,{onChange:e=>i({...s,[e.target.name]:e.target.value}),error:!!(r!=null&&r.name),helperText:(r==null?void 0:r.name)??"",name:"name",type:"text",id:"outlined-basic",label:"Name of Subject",variant:"outlined"}),t.jsx(C,{onChange:e=>i({...s,[e.target.name]:e.target.value}),error:!!(r!=null&&r.code),helperText:(r==null?void 0:r.code)??"",name:"code",type:"text",id:"outlined-basic",label:"Subject Code",variant:"outlined"}),t.jsxs(o,{fullWidth:!0,children:[t.jsx(c,{id:"demo-simple-select-label",children:"Academic Year"}),t.jsx(m,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:(s==null?void 0:s.academic_year)??"",name:"academic_year",label:"Academic Year",onChange:e=>i({...s,[e.target.name]:e.target.value}),children:D().map((e,l)=>t.jsx(a,{value:e,children:e},l))})]}),t.jsxs(o,{fullWidth:!0,children:[t.jsx(c,{id:"demo-simple-select-label",children:"Semester"}),t.jsxs(m,{id:"demo-simple-select",name:"semester",label:"Semester",value:(s==null?void 0:s.semester)??"",onChange:e=>i({...s,[e.target.name]:e.target.value}),children:[t.jsx(a,{value:"1st Semester",children:"1st Semester"}),t.jsx(a,{value:"2nd Semester",children:"2nd Semester"}),t.jsx(a,{value:"Summer",children:"Summer"})]})]}),t.jsxs(o,{fullWidth:!0,children:[t.jsx(c,{id:"demo-simple-select-label",children:"Instructor"}),t.jsx(m,{id:"demo-simple-select",name:"instructor_id",label:"Instructor",onChange:e=>i({...s,[e.target.name]:e.target.value}),children:j.data.map((e,l)=>t.jsxs(a,{value:e.user_id,children:[e.fname," ",e.lname]}))})]}),t.jsxs(o,{fullWidth:!0,children:[t.jsx(c,{id:"demo-simple-select-label",children:"Year"}),t.jsxs(m,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"year",label:"Year",onChange:e=>i({...s,[e.target.name]:e.target.value}),children:[t.jsx(a,{value:"1st Year",children:"1st Year"}),t.jsx(a,{value:"2nd Year",children:"2nd Year"}),t.jsx(a,{value:"3rd Year",children:"3rd Year"}),t.jsx(a,{value:"4th Year",children:"4th Year"})]})]}),t.jsxs(o,{fullWidth:!0,children:[t.jsx(c,{id:"demo-simple-select-label",children:"Course"}),t.jsx(m,{id:"demo-simple-select",name:"course_id",label:"Course",value:(s==null?void 0:s.course_id)??"",onChange:e=>i({...s,[e.target.name]:e.target.value}),children:Y.data.map((e,l)=>t.jsx(a,{value:e.id,children:e.name},l))})]})]}),t.jsx(S,{onClick:w,disabled:h,variant:"contained",className:" w-full",children:h?t.jsx(T,{size:24,color:"inherit"}):"Submit"})]})})})]})}export{ve as default};
