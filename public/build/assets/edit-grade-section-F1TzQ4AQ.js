import{r,u as g,j as o,s as c}from"./app-1UmjifxC.js";import{u as _}from"./grade-thunk-C4vN9Pmi.js";import{a as E}from"./subject-thunk-DFz9bSoJ.js";import{T as j}from"./TextField-CtZ3mjoH.js";import"./DefaultPropsProvider-CKcDU2Yy.js";import"./useSlot-Gx91KLIi.js";import"./resolveComponentProps-B7IHF3QZ.js";import"./TransitionGroupContext-RNXDwHJk.js";import"./Select-BivqU_Cl.js";import"./InputBase-cG_P5-sx.js";import"./isHostComponent-DVu5iVWx.js";import"./index-9lKmE9fi.js";import"./useTheme-CkPtyFRl.js";import"./extendSxProp-C4KD2rbZ.js";import"./ownerWindow-CO8Ksk3k.js";import"./debounce-Be36O1Ab.js";import"./Popover-BTy4bb5Y.js";import"./Modal-BXjSSrnw.js";import"./utils-BgXcxbpz.js";import"./Paper-BF9VFg0b.js";import"./Grow-B7cp0PNe.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./react-is.production.min-DUDD-a5e.js";import"./index-Cdcpbbf2.js";import"./useSlotProps-CRvtfQO_.js";import"./useControlled-Cmh3m7cd.js";import"./useId-D5gQBNP_.js";import"./createSvgIcon-DDstmIAC.js";function Y({data:n,value:f,type:s}){const[t,p]=r.useState({}),[i,b]=r.useState({}),{user:l}=g(e=>e.app),[a,m]=r.useState(!1),[u,d]=r.useState(!1),h=window.location.pathname.split("/")[3];r.useEffect(()=>{p({...n,[s]:f??0})},[]);async function x(e){if(e.key==="Enter"){m(!0);try{await c.dispatch(_({prelim:t.prelim,midterm:t.midterm,final:t.final,id:n.id})),await c.dispatch(E(l.user_type=="1"?h:l.user_id)),d(!1),m(!1)}catch{m(!1)}}}return console.log("formform",t),o.jsxs("div",{children:[a&&o.jsx(o.Fragment,{children:"Loading..."}),!a&&!u&&o.jsx("a",{className:"flex w-full",onClick:()=>d(!0),children:t[s]}),!a&&u&&o.jsx(j,{size:"small",onKeyDown:x,value:t[s],onChange:e=>p({...t,[e.target.name]:e.target.value}),error:!!(i!=null&&i.prelim),helperText:(i==null?void 0:i.prelim)??"",name:s,type:"number",id:"outlined-basic",label:"Prelim",variant:"outlined"})]})}export{Y as default};
