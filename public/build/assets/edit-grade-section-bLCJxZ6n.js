import{r,u as g,j as o,s as c}from"./app-CxSiEuh0.js";import{u as _}from"./grade-thunk-BCPx7Wpo.js";import{a as E}from"./subject-thunk-CYDnRUhm.js";import{T as j}from"./TextField-BqCibR7K.js";import"./DefaultPropsProvider-u4dMbbrm.js";import"./useSlot-BtG2wqx4.js";import"./resolveComponentProps-DL3teynR.js";import"./TransitionGroupContext-Ag3s-__A.js";import"./Select-eeUI5IEE.js";import"./InputBase-C1hPBamu.js";import"./isHostComponent-DVu5iVWx.js";import"./index-lFpRPvCY.js";import"./useTheme-BcsGi_1D.js";import"./extendSxProp-B0Mpqpb2.js";import"./ownerWindow-CO8Ksk3k.js";import"./debounce-Be36O1Ab.js";import"./Popover-CkqTCObb.js";import"./Modal-DVY8ByRB.js";import"./utils-DpS0ORYq.js";import"./Paper-DvaH0Svk.js";import"./Grow-Doya-6fb.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./react-is.production.min-DUDD-a5e.js";import"./index-F-pXNyUe.js";import"./useSlotProps-CcehoDPQ.js";import"./useControlled-KZPzS6sX.js";import"./useId-0GBAqNEW.js";import"./createSvgIcon-D6bWpeAd.js";function Y({data:n,value:f,type:s}){const[t,p]=r.useState({}),[i,b]=r.useState({}),{user:l}=g(e=>e.app),[a,m]=r.useState(!1),[u,d]=r.useState(!1),h=window.location.pathname.split("/")[3];r.useEffect(()=>{p({...n,[s]:f??0})},[]);async function x(e){if(e.key==="Enter"){m(!0);try{await c.dispatch(_({prelim:t.prelim,midterm:t.midterm,final:t.final,id:n.id})),await c.dispatch(E(l.user_type=="1"?h:l.user_id)),d(!1),m(!1)}catch{m(!1)}}}return console.log("formform",t),o.jsxs("div",{children:[a&&o.jsx(o.Fragment,{children:"Loading..."}),!a&&!u&&o.jsx("a",{className:"flex w-full",onClick:()=>d(!0),children:t[s]}),!a&&u&&o.jsx(j,{size:"small",onKeyDown:x,value:t[s],onChange:e=>p({...t,[e.target.name]:e.target.value}),error:!!(i!=null&&i.prelim),helperText:(i==null?void 0:i.prelim)??"",name:s,type:"number",id:"outlined-basic",label:"Prelim",variant:"outlined"})]})}export{Y as default};
