import{u as y,r as b,j as e}from"./app-DJFTPtMn.js";import{K as T,a as k}from"./KeyboardArrowUp-aZadyEpL.js";import{T as C,a as h,e as p,c,d as s,b as u}from"./TableRow-CWGn6ImI.js";import{P as N}from"./Paper-Dmof-Il-.js";import{I as R}from"./IconButton-CcrLUk0h.js";import{C as v}from"./Collapse-CJf_Gi_e.js";import{B as z}from"./Box-B1Nif7Fv.js";import{T as P}from"./Typography-B6kps9Wb.js";import"./createSvgIcon-CW7Z1l5w.js";import"./DefaultPropsProvider-mBNNY6ll.js";import"./useTheme--JlZXKIU.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./ButtonBase-CHpdQknO.js";import"./TransitionGroupContext-DsGF8nOM.js";import"./utils-DA6GzGpT.js";import"./extendSxProp-C0y1nwXy.js";import"./index-CBmFtTja.js";function m({categoryName:l,grades:o}){var x,j,i;return e.jsxs(z,{className:"py-6 w-full",sx:{margin:1},children:[e.jsx(P,{variant:"h6",gutterBottom:!0,component:"div",children:e.jsx("div",{className:"font-black",children:l})}),e.jsx("div",{className:"font-bold text-lg",children:"Prelim"}),e.jsxs(h,{size:"small","aria-label":"grades",children:[e.jsx(u,{children:e.jsxs(c,{children:[e.jsx(s,{children:"Score"}),e.jsx(s,{children:"Total"}),e.jsx(s,{children:"Percent"}),e.jsx(s,{children:"Remarks"}),e.jsx(s,{children:"Date"})]})}),e.jsx(p,{children:(x=o.prelim)==null?void 0:x.map((r,d)=>e.jsxs(c,{children:[e.jsx(s,{children:r.score}),e.jsxs(s,{children:[(r.score*r.percent/100).toFixed(2)*10,"%"]}),e.jsxs(s,{children:[r.percent,"%"]}),e.jsx(s,{children:r.remarks}),e.jsx(s,{children:r.date})]},d))})]}),e.jsx("div",{className:"font-bold text-lg",children:"Midterm"}),e.jsxs(h,{size:"small","aria-label":"grades",children:[e.jsx(u,{children:e.jsxs(c,{children:[e.jsx(s,{children:"Score"}),e.jsx(s,{children:"Total"}),e.jsx(s,{children:"Percent"}),e.jsx(s,{children:"Remarks"}),e.jsx(s,{children:"Date"})]})}),e.jsx(p,{children:(j=o.midterm)==null?void 0:j.map((r,d)=>e.jsxs(c,{children:[e.jsx(s,{children:r.score}),e.jsx(s,{children:r.total}),e.jsxs(s,{children:[r.percent,"%"]}),e.jsx(s,{children:r.remarks}),e.jsx(s,{children:r.date})]},d))})]}),e.jsx("div",{className:"font-bold text-lg",children:"Final"}),e.jsxs(h,{size:"small","aria-label":"grades",children:[e.jsx(u,{children:e.jsxs(c,{children:[e.jsx(s,{children:"Score"}),e.jsx(s,{children:"Total"}),e.jsx(s,{children:"Percent"}),e.jsx(s,{children:"Remarks"}),e.jsx(s,{children:"Date"})]})}),e.jsx(p,{children:(i=o.final)==null?void 0:i.map((r,d)=>e.jsxs(c,{children:[e.jsx(s,{children:r.score}),e.jsx(s,{children:r.total}),e.jsxs(s,{children:[r.percent,"%"]}),e.jsx(s,{children:r.remarks}),e.jsx(s,{children:r.date})]},d))})]})]})}function S({row:l,isOpen:o,onClick:x}){var f,g;const j=l.examination.reduce((n,a)=>{const t=a.assessment.toLowerCase();return n[t]||(n[t]=[]),n[t].push(a),n},{}),i=l.quiz.reduce((n,a)=>{const t=a.assessment.toLowerCase();return n[t]||(n[t]=[]),n[t].push(a),n},{}),r=l.project.reduce((n,a)=>{const t=a.assessment.toLowerCase();return n[t]||(n[t]=[]),n[t].push(a),n},{}),d=l.class_participation.reduce((n,a)=>{const t=a.assessment.toLowerCase();return n[t]||(n[t]=[]),n[t].push(a),n},{});return e.jsxs(b.Fragment,{children:[e.jsxs(c,{sx:{"& > *":{borderBottom:"unset"},cursor:"pointer"},onClick:x,children:[e.jsxs(s,{children:[e.jsx(R,{"aria-label":"expand row",size:"small",children:o?e.jsx(T,{}):e.jsx(k,{})}),(f=l==null?void 0:l.user)==null?void 0:f.fname," ",(g=l==null?void 0:l.user)==null?void 0:g.lname]}),e.jsx(s,{component:"th",scope:"row"})]}),e.jsx(c,{children:e.jsx(s,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:e.jsxs(v,{in:o,timeout:"auto",unmountOnExit:!0,children:[e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(m,{categoryName:"Examination",grades:j??[]}),e.jsx(m,{categoryName:"Quizzes (RLE)",grades:i??[]})]}),e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(m,{categoryName:"Projects / Assignments",grades:r??[]}),e.jsx(m,{categoryName:"Class Participation",grades:d??[]})]})]})})})]})}function J(){const{students:l}=y(i=>i.instructors),[o,x]=b.useState(null),j=i=>{x(r=>r===i?null:i)};return console.log("students",l),e.jsx(C,{component:N,children:e.jsx(h,{"aria-label":"collapsible table",children:e.jsx(p,{children:l.map((i,r)=>e.jsx(S,{row:i,isOpen:o===r,onClick:()=>j(r)},r))})})})}export{J as default};
